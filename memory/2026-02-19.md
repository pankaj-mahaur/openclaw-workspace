# Daily Notes — 2026-02-19

## Session Summary

### Infrastructure Setup ✅
- AyurNod SSH deploy key added: `/root/.ssh/id_ayurnod_strong` (RSA 4096)
- SSH config updated — `github-ayurnod` host uses `id_ayurnod_strong`
- AyurNod git remote switched to SSH: `git@github-ayurnod:pankaj-mahaur/AyurNod.git`
- Backend deps installed (`npm install` with build tools for better-sqlite3)
- `.env` created at `/root/AyurNod/AyurNod/backend/.env` with OpenRouter key
- Backend running via PM2 as `AyurNod-Backend` on port 3001
- Expo running via PM2 as `AyurNod-Expo` on port 8081 (tunnel mode)
- Mobile API URL updated to point to VPS: `http://31.97.233.48:3001`

### PM2 Services Running
- `AyurNod-Brain` (id:0) — OpenClaw gateway
- `Public-Bridge` (id:1) — port 3000 bridge
- `AyurNod-Expo` (id:3) — Expo Metro bundler port 8081
- `AyurNod-Backend` (id:4) — Fastify backend port 3001

### AyurNod Chat Feature — `feature/chat-optimization` branch
All commits pushed to GitHub. Changes done today:

1. **Health-only AI** — strict scope rule in system prompt, off-topic questions redirected
2. **Smart memory** — chatStore updated with `summary` field, auto-updates every 8 msgs, `getContextForAI()` method
3. **New chat on app open** — always creates fresh session, old ones saved in sidebar
4. **Bottom nav padding** — height 60→75, paddingBottom 8→16
5. **Chat UI polish** — cleaner bubbles, typing indicator with logo, multiline input, image picker icon updated
6. **Backend** — chat route accepts `summary` param, passes to AI
7. **Dynamic prompts** — pool of 25 prompts, random 6 shown per new chat
8. **Chat as center nav** — logo button in center (no label), teal glow when active
9. **Home screen Chat hero** — prominent CTA card at top of home with logo + description

### Key File Locations
- Mobile: `/root/AyurNod/AyurNod/mobile/`
- Backend: `/root/AyurNod/AyurNod/backend/`
- VS Code: `http://31.97.233.48:8080/?folder=/root/AyurNod`
- Expo Go URL: `exp://31.97.233.48:8081`
- Backend health: `http://31.97.233.48:3001/api/health`

### Next Steps (discussed/pending)
- Merge `feature/chat-optimization` into `main` when PhanX is happy
- Continue improving other screens (Symptoms, Labs, History)
- Review and improve Home screen further
